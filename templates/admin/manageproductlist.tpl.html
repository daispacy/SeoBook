{if $result_code}<div class="message">{$amessages.result_code.$result_code}</div>{/if}
{if $error_code}<div class="message2">{$amessages.error_code.$error_code}</div>{/if}
{if $pId}<p><a href="/{$aScript}?op=manage&act=product&mod=list&pId={$gfId}" title="{$locale->msg('back_group')}"><img src="/{$templatePath}/{$userTemplate}/images/icon_parent.png" alt="{$locale->msg('back_group')}" width="32" height="32" />...{$locale->msg('back')}</a></p>{/if}
{if $listItems}
<form action="/{$aScript}" method="post" name="formType" id="formType">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<thead>
<tr>
<th><input type="checkbox" name="all" id="all" value="1" class="box3" onclick="toggleAllChecks('formType');" /></th>
<th>{$locale->msg('numbers')}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','id','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_code')}">{$locale->msg('code')}</a>{if $sk eq "id"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th>{$locale->msg('images')}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','cat_id','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('sort_by_procate')}">{$locale->msg('product_cate')}</a>{if $sk eq "cat_id"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','name','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_name')}">{$locale->msg('product_infomation')}</a>{if $sk eq "name"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','price','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_price')}">{$locale->msg('price')}</a>{if $sk eq "price"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if} ({$estore->getProperty('currency')})</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','position','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_position')}">{$locale->msg('position')}</a>{if $sk eq "position"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th>{$locale->msg('posts_user')}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','viewed','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_view')}">{$locale->msg('num_of_views')}</a>{if $sk eq "viewed"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th><a href="javascript:void(0)" onclick="javascript:MM_sortField('parent','{$sk}','status','{if $sd eq "DESC"}ASC{else}DESC{/if}');" title="{$locale->msg('arrangement_by_status')}">{$locale->msg('system_status')}</a>{if $sk eq "status"}{if $sd eq "DESC"}&darr;{else}&uarr;{/if}{/if}</th>
<th>{$locale->msg('actions')}</th>
</tr>
</thead>
<tbody>
{foreach key=no from=$listItems item=item}
<tr{if $no%2 eq 0} class="bgType"{/if}>
<td><input type="checkbox" name="ids[]" id="ids[]" value="{$item->getId()}" class="box3" /></td>
<td>{$startNum+$no}</td>
<td>{$item->getId()}</td>
<td>
{if $item->getAvatar()}
<img src="/upload/{$storeId}/products/a_{$item->getAvatar()}" width="100" />
{/if}
</td>
<td><a class="underline" href="/{$aScript}?op=manage&act=product&mod=list&pId={$item->getCatId()}" title="{$locale->msg('view_list_product_of_group')}">{$item->getCatName()}</a></td>
<td><a href="{$item->getUrl()}" target="_blank">{$locale->msg('name')}: {$item->getName()}<br />
{$locale->msg('sku')}: {$item->getSku()}<br />
{$locale->msg('slug')}: {$item->getSlug()}<br/>
<strong>Số lượng: {$item->getQuantity()}</strong></a></td>
<td><p>Giá sắp xếp: <input class="price" type="text" id="prices[{$item->getId()}]" name="prices[{$item->getId()}]" value="{$item->getPrice()|number_format:2}" onBlur="formatCurrency('prices[{$item->getId()}]');" /></p>
<p>Giá trưng bày: <input style="width: 100%; text-align: left;"  type="text" id="market_prices[{$item->getId()}]" name="market_prices[{$item->getId()}]" value="{$item->getMarketPrice()}"  /></p>

</td>
<td><input class="position" type="text" name="positions[{$item->getId()}]" value="{$item->getPosition()}" /></td>
<td>
{assign var=userUpload value=$item->getProperty('user_upload')}
{assign var=userUpdate value=$item->getProperty('user_update')}
{if $userUpload}<p>[P]{$userUpload}<br />{$item->getDateCreated()|date_format:"%Y-%m-%d"}</p>{/if}
{if $userUpdate}[U]{$userUpdate}<br />{$item->getDateCreated()|date_format:"%Y-%m-%d"}{/if}
</td>
<td>{$item->getViewed()|number_format}</td>
<td>{$item->getStatusTextBackend()}</td>
<td>
<a href="/{$aScript}?op=manage&act=product&mod=edit&id={$item->getId()}&lang={$lang}" title="{$locale->msg('edit')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_edit.png" alt="{$locale->msg('edit')}" width="16" height="16" /></a>
<a href="javascript:formSubmit('formType','list','enable',{$item->getId()});" title="{$locale->msg('enable')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_enable.png" alt="{$locale->msg('enable')}" width="16" height="16" /></a>
<a href="javascript:formSubmit('formType','list','disable',{$item->getId()});" title="{$locale->msg('disable')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_disable.png" alt="{$locale->msg('disable')}" width="16" height="16" /></a>
<a href="javascript:formSubmit('formType','list','delete',{$item->getId()});" title="{$locale->msg('delete')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_delete.png" alt="{$locale->msg('delete')}" width="16" height="16" /></a>

{if $item->getHome()}
<a href="javascript:formSubmit('formType','list','deletehome',{$item->getId()});" title="Hủy sản phẩm mới"><img src="/{$templatePath}/{$userTemplate}/images/delete_home.gif" alt="{$locale->msg('disable_home')}" width="16" height="16" /></a>
{else}
<a href="javascript:formSubmit('formType','list','sethome',{$item->getId()});" title="Set sản phẩm mới"><img src="/{$templatePath}/{$userTemplate}/images/home_ico.gif" alt="{$locale->msg('enable')}" width="16" height="16" /></a>
{/if}

{if $item->getSeller()}
<a href="javascript:formSubmit('formType','list','deleteseller',{$item->getId()});" title="Hủy sản phẩm yêu thích"><img src="/{$templatePath}/{$userTemplate}/images/delete_sellers.gif" alt="Hủy sản phẩm yêu thích" width="16" height="16" /></a>
{else}
<a href="javascript:formSubmit('formType','list','setseller',{$item->getId()});" title="Set sản phẩm yêu thích"><img src="/{$templatePath}/{$userTemplate}/images/sellers.gif" alt="Set sảm phẩm yêu thích" width="16" height="16" /></a>
{/if}

{if $item->getSpecial()}
<a href="javascript:formSubmit('formType','list','deletespecial',{$item->getId()});" title="Hủy Khuyễn mãi"><img src="/{$templatePath}/{$userTemplate}/images/delete_special.png" alt="Hủy Khuyễn mãi" width="16" height="16" /></a>
{else}
<a href="javascript:formSubmit('formType','list','setspecial',{$item->getId()});" title="Set Khuyễn mãi"><img src="/{$templatePath}/{$userTemplate}/images/special.png" alt="Set Khuyễn mãi" width="16" height="16" /></a>
{/if}

<!--
<a href="javascript:formSubmit('formType','list','duplicate',{$item->getId()});" title="{$locale->msg('copy')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_copy.png" alt="Copy" width="16" height="16" /></a>-->
<a target="_blank" href="{$item->getUrl()}" title="{$locale->msg('first_view')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_preview.png" alt="{$locale->msg('first_view')}" width="16" height="16" /></a>
<a href="/{$aScript}?op=manage&act=product&mod=albumlist&pid={$item->getId()}" title="Xem Album"><img src="/{$templatePath}/{$userTemplate}/images/album.ico" alt="Xem Album" width="16" height="16" /></a>
<span class="check"><a rel="{$item->getUrl()}" href="#" title="{$locale->msg('link')}"><img src="/{$templatePath}/{$userTemplate}/images/ico_link.png" alt="{$locale->msg('link')}" width="16" height="16" /></a><span>

</td>
</tr>
{/foreach}
</tbody>
</table>
<div class="paging">
<p class="listBtn">
<a title="{$locale->msg('button_update')}" href="javascript:void(0);" onclick="javascript:formSubmit('formType','list','changeposition','0');;">{$locale->msg('button_update')}</a>
<a title="{$locale->msg('button_enable')}" href="javascript:void(0);" onclick="javascript:formSubmit('formType','list','enable','0');;">{$locale->msg('button_enable')}</a>
<a title="{$locale->msg('button_disable')}" href="javascript:void(0);" onclick="javascript:formSubmit('formType','list','disable','0');">{$locale->msg('button_disable')}</a>
<a title="{$locale->msg('button_delete')}" href="javascript:void(0);" onclick="javascript:formSubmit('formType','list','delete','0');">{$locale->msg('button_delete')}</a>
</p>
{include file="$userTemplate/corepager.tpl.html" title=pager}
</div>
<div class="infoType2">
{include file="$userTemplate/corecomboipp.tpl.html" title=ipp}
<div class="listCategory">
<select name="parent_id">
<option value="0" selected="selected">----- {$locale->msg('select_group')} -----</option>
{$categoryCombo}
</select>
<input type="button" value="{$locale->msg('button_move')}" title="{$locale->msg('button_move')}" class="btnSubmit2" name="btnSubmit2" onclick="javascript:formSubmit('formType','list','changegroup','0');" />
</div>
</div>
<input type="hidden" name="op" value="manage" />
<input type="hidden" name="act" value="product" />
<input type="hidden" name="mod" value="list" />
<input type="hidden" name="pId" value="{$pId}" />
<input type="hidden" name="doo" value="" />
<input type="hidden" name="kw" value="{$kw}" />
<input type="hidden" name="lang" value="{$lang}" />
<input type="hidden" name="ipp" value="{$ipp}" />
<input type="hidden" name="sk" value="{$sk}" />
<input type="hidden" name="sd" value="{$sd}" />
<input type="hidden" name="pg" value="{$pg}" />
<input type="hidden" name="id" value="" />
</form>
{else}
{$locale->msg('no_record')}
<form action="/{$aScript}" method="post" name="formType" id="formType">
<input type="hidden" name="op" value="manage" />
<input type="hidden" name="act" value="product" />
<input type="hidden" name="mod" value="list" />
<input type="hidden" name="doo" value="" />
</form>
{/if}
</div>